<div class="header clearfix">
    <a href="/" class="logo"></a>
    <ul class="menu">

        <li><a href="{% url 'mainapp:index' %}"
               class="{% if request.path == '/' %}active{% endif %}">домой
            </a>
        </li>

        <li>
              <a href="{% url 'products:index' %}"
                 class="{% if request.resolver_match.namespace == 'products' %}
                          active
                        {% endif %}">
                продукты
              </a>
        </li>


        <li>
            <a href="{% url 'contact' %}"
                class="{% if request.path == '/contact/' %}active{% endif %}">контакты
            </a>
        </li>

        {% if user.is_authenticated %}
            <li>
              <a href="{% url 'auth:edit' %}">
                {{ user.first_name|default:'Пользователь' }}
              </a>
            </li>
        {% endif %}
        {% if user.is_superuser %}
            <li>
              <a href="{% url 'admin:users' %}">админка</a>
            </li>
        {% endif %}
        <li>
            {% if user.is_authenticated %}
              <a href="{% url 'auth:logout' %}">выйти</a>
            {% else %}
              <a href="{% url 'auth:login' %}">войти</a>
            {% endif %}
        </li>

        <li>
            {% if basket %}
            <a href="{% url 'basket:view' %}"> в корзине: {{ basket|length }} товаров</a>
            {% else %}
            <a href="{% url 'basket:view' %}"> грустная пустая корзина</a>
            {% endif %}
        </li>

    </ul>

</div>
